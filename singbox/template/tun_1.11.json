{
  "log": {"level": "info", "timestamp": true},
  "dns": {
    "servers": [
      {"tag": "dns_resolver", "address": "223.5.5.5", "strategy": "ipv4_only", "detour": "direct"},
      {"tag": "dns_proxy", "address": "https://cloudflare-dns.com/dns-query", "address_resolver": "dns_resolver", "strategy": "ipv4_only", "detour": "Proxy"},
      {"tag": "dns_direct", "address": "https://dns.alidns.com/dns-query", "address_resolver": "dns_resolver", "strategy": "ipv4_only", "detour": "direct"},
      {"tag": "dns_block", "address": "rcode://refused"}
    ],
    "rules": [
      {"outbound": "any", "server": "dns_direct", "disable_cache": true},
      {"clash_mode": "direct", "server": "dns_direct"},
      {"clash_mode": "global", "server": "dns_proxy"},
      {"rule_set": "geosite-category-ads-all", "server": "dns_block"},
      {"rule_set": "geosite-xiaomi", "server": "dns_direct"},
      {"rule_set": "geosite-geolocation-cn", "server": "dns_direct"},
      {"type": "logical", "mode": "and", "rules": [{"rule_set": "geosite-geolocation-!cn", "invert": true}, {"rule_set": "geoip-cn"}], "server": "dns_proxy", "client_subnet": "114.114.114.114/24"}
    ],
    "final": "dns_proxy",
    "independent_cache": true
  },
  "inbounds": [
    {"type": "tun", "tag": "tun-in", "interface_name": "sing-box", "mtu": 9000, "address": ["172.19.0.1/30"], "auto_route": true, "strict_route": true, "stack": "system", "platform": {"http_proxy": {"server": "::", "server_port": 12138}}, "sniff_override_destination": false},
    {"type": "mixed", "tag": "mixed-in", "listen": "::", "listen_port": 12138}
  ],
  "outbounds": [
    {"tag": "direct", "type": "direct"},
    {"tag": "Proxy", "type": "selector", "outbounds": ["HongKong", "TaiWan", "Korea", "Singapore", "Japan", "America", "direct"], "default": "Singapore"},
    {"tag": "HongKong", "type": "urltest", "outbounds": ["{all}"], "url": "https://cp.cloudflare.com/generate_204", "interval": "60s", "tolerance": 20, "filter": [{"action": "include", "keywords": ["üá≠üá∞|HK|HK|hk|È¶ôÊ∏Ø|HongKong"]}]},
    {"tag": "TaiWan", "type": "urltest", "outbounds": ["{all}"], "url": "https://cp.cloudflare.com/generate_204", "interval": "60s", "tolerance": 20, "filter": [{"action": "include", "keywords": ["üáπüáº|TW|tw|Âè∞Êπæ|TaiWan"]}]},
    {"tag": "Korea", "type": "urltest", "outbounds": ["{all}"], "url": "https://cp.cloudflare.com/generate_204", "interval": "60s", "tolerance": 20, "filter": [{"action": "include", "keywords": ["üá∞üá∑|KR|kr|Èü©ÂõΩ|Korea"]}]},
    {"tag": "Singapore", "type": "urltest", "outbounds": ["{all}"], "url": "https://cp.cloudflare.com/generate_204", "interval": "60s", "tolerance": 20, "filter": [{"action": "include", "keywords": ["üá∏üá¨|SG|sg|Êñ∞Âä†Âù°|ÁãÆ|Singapore"]}]},
    {"tag": "Japan", "type": "urltest", "outbounds": ["{all}"], "url": "https://cp.cloudflare.com/generate_204", "interval": "60s", "tolerance": 20, "filter": [{"action": "include", "keywords": ["üáØüáµ|JP|jp|Êó•Êú¨|Japan"]}]},
    {"tag": "America", "type": "urltest", "outbounds": ["{all}"], "url": "https://cp.cloudflare.com/generate_204", "interval": "60s", "tolerance": 20, "filter": [{"action": "include", "keywords": ["üá∫üá∏|US|ÁæéÂõΩ|United States"]}]},
    {"tag": "GLOBAL", "type": "selector", "outbounds": ["Proxy", "TaiWan", "Korea", "HongKong", "Singapore", "Japan", "America", "direct"], "default": "Singapore"},
    {"tag": "Google", "type": "selector", "outbounds": ["Proxy", "HongKong", "TaiWan", "Korea", "Singapore", "Japan", "America"], "default": "Singapore"},
    {"tag": "OpenAi", "type": "selector", "outbounds": ["Proxy", "HongKong", "TaiWan", "Korea", "Singapore", "Japan", "America"], "default": "Singapore"},
    {"tag": "Steam", "type": "selector", "outbounds": ["Proxy", "HongKong", "TaiWan", "Korea", "Singapore", "Japan", "America"], "default": "HongKong"},
    {"tag": "Telegram", "type": "selector", "outbounds": ["Proxy", "HongKong", "TaiWan", "Korea", "Singapore", "Japan", "America"], "default": "Singapore"},
    {"tag": "Twitter", "type": "selector", "outbounds": ["Proxy", "HongKong", "TaiWan", "Korea", "Singapore", "Japan", "America"], "default": "America"},
    {"tag": "FaceBook", "type": "selector", "outbounds": ["Proxy", "HongKong", "TaiWan", "Korea", "Singapore", "Japan", "America"], "default": "America"},
    {"tag": "TikTok", "type": "selector", "outbounds": ["Proxy", "HongKong", "TaiWan", "Korea", "Singapore", "Japan", "America"], "default": "Japan"},
    {"tag": "Netflix", "type": "selector", "outbounds": ["Proxy", "HongKong", "TaiWan", "Korea", "Singapore", "Japan", "America"], "default": "Singapore"},
    {"tag": "PikPak", "type": "selector", "outbounds": ["Proxy", "HongKong", "TaiWan", "Korea", "Singapore", "Japan", "America"], "default": "Singapore"},
    {"tag": "PikPak-Download", "type": "selector", "outbounds": ["Proxy", "HongKong", "TaiWan", "Korea", "Singapore", "Japan", "America", "direct"], "default": "direct"},
    {"tag": "Download", "type": "selector", "outbounds": ["{all}"], "filter": [{"action": "exclude", "keywords": ["Traffic|Expire|Âú∞ÂùÄ|Ââ©‰Ωô|ËøáÊúü|Êó∂Èó¥|ÊúâÊïà"]}], "default": "SG-2"},
    {"tag": "Final", "type": "selector", "outbounds": ["Proxy", "HongKong", "TaiWan", "Korea", "Singapore", "Japan", "America", "direct"], "default": "direct"}
  ],
  "route": {
    "rules": [
      {"clash_mode": "direct", "outbound": "direct"},
      {"clash_mode": "global", "outbound": "GLOBAL"},
      {"rule_set": "pass-ip", "outbound": "direct"},
      {"inbound": ["mixed-in", "tun-in"], "action": "sniff"},
      {"inbound": ["mixed-in", "tun-in"], "action": "resolve", "strategy": "ipv4_only"},
      {"rule_set": ["direct", "direct-ip"], "outbound": "direct"},
      {"rule_set": "proxy", "outbound": "Proxy"},
      {"rule_set": "pikpak-download", "outbound": "PikPak-Download"},
      {"rule_set": "geosite-pikpak", "outbound": "PikPak"},
      {"protocol": "dns", "action": "hijack-dns"},
      {"rule_set": "geosite-category-ads-all", "action": "reject"},
      {"rule_set": "geosite-xiaomi", "outbound": "direct"},
      {"ip_is_private": true, "outbound": "direct"},
      {"rule_set": "geosite-onedrive", "outbound": "Proxy"},
      {"rule_set": "geosite-openai", "outbound": "OpenAi"},
      {"rule_set": "geosite-unionpay", "outbound": "direct"},
      {"rule_set": "geosite-jd", "outbound": "direct"},
      {"rule_set": "geosite-meituan", "outbound": "direct"},
      {"rule_set": "geosite-alibaba", "outbound": "direct"},
      {"rule_set": "geosite-github", "outbound": "Proxy"},
      {"rule_set": "geosite-adguard", "outbound": "Proxy"},
      {"rule_set": "geosite-apkpure", "outbound": "Proxy"},
      {"rule_set": "geosite-docker", "outbound": "Proxy"},
      {"rule_set": "geosite-javdb", "outbound": "Proxy"},
      {"rule_set": "geosite-tmdb", "outbound": "Proxy"},
      {"rule_set": "geosite-reddit", "outbound": "Proxy"},
      {"rule_set": "geosite-speedtest", "outbound": "Proxy"},
      {"rule_set": "geosite-wikimedia", "outbound": "Proxy"},
      {"rule_set": "geosite-steam", "outbound": "Steam"},
      {"rule_set": "geosite-openwrt", "outbound": "Proxy"},
      {"rule_set": "geosite-youtube", "outbound": "Google"},
      {"rule_set": ["geoip-google", "geosite-google"], "outbound": "Google"},
      {"rule_set": ["geoip-telegram", "geosite-telegram"], "outbound": "Telegram"},
      {"rule_set": ["geoip-twitter", "geosite-twitter"], "outbound": "Twitter"},
      {"rule_set": ["geoip-facebook", "geosite-facebook"], "outbound": "FaceBook"},
      {"rule_set": "geosite-bilibili", "outbound": "direct"},
      {"rule_set": "geosite-tiktok", "outbound": "TikTok"},
      {"rule_set": ["geoip-netflix", "geosite-netflix"], "outbound": "Netflix"},
      {"rule_set": "geosite-microsoft", "outbound": "direct"},
      {"rule_set": ["geoip-cn", "geosite-cn"], "outbound": "direct"}
    ],
    "rule_set": [
      {"tag": "geosite-geolocation-cn", "type": "remote", "format": "binary", "url": "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/sing/geo/geosite/geolocation-cn.srs", "download_detour": "Download"},
      {"tag": "geosite-xiaomi", "type": "remote", "format": "binary", "url": "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/sing/geo/geosite/xiaomi.srs", "download_detour": "Download"},
      {"tag": "geosite-category-ads-all", "type": "remote", "format": "binary", "url": "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/sing/geo/geosite/category-ads-all.srs", "download_detour": "Download"},
      {"tag": "geosite-csdn", "type": "remote", "format": "binary", "url": "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/sing/geo/geosite/csdn.srs", "download_detour": "Download"},
      {"tag": "geosite-microsoft", "type": "remote", "format": "binary", "url": "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/sing/geo/geosite/microsoft.srs", "download_detour": "Download"},
      {"tag": "geosite-onedrive", "type": "remote", "format": "binary", "url": "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/sing/geo/geosite/onedrive.srs", "download_detour": "Download"},
      {"tag": "geosite-openwrt", "type": "remote", "format": "binary", "url": "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/sing/geo/geosite/openwrt.srs", "download_detour": "Download"},
      {"tag": "proxy", "type": "remote", "format": "binary", "url": "https://github.com/huai12138/free/raw/refs/heads/main/proxy.srs", "download_detour": "Download"},
      {"tag": "direct", "type": "remote", "format": "binary", "url": "https://github.com/huai12138/free/raw/refs/heads/main/direct.srs", "download_detour": "Download"},
      {"tag": "direct-ip", "type": "remote", "format": "binary", "url": "https://github.com/huai12138/free/raw/refs/heads/main/direct-ip.srs", "download_detour": "Download"},
      {"tag": "pass-ip", "type": "remote", "format": "binary", "url": "https://github.com/huai12138/free/raw/refs/heads/main/pass-ip.srs", "download_detour": "Download"},
      {"tag": "pikpak-download", "type": "remote", "format": "binary", "url": "https://github.com/huai12138/free/raw/refs/heads/main/pikpak-download.srs", "download_detour": "Download"},
      {"tag": "geosite-openai", "type": "remote", "format": "binary", "url": "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/sing/geo/geosite/openai.srs", "download_detour": "Download"},
      {"tag": "geosite-youtube", "type": "remote", "format": "binary", "url": "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/sing/geo/geosite/youtube.srs", "download_detour": "Download"},
      {"tag": "geoip-google", "type": "remote", "format": "binary", "url": "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/sing/geo/geoip/google.srs", "download_detour": "Download"},
      {"tag": "geosite-google", "type": "remote", "format": "binary", "url": "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/sing/geo/geosite/google.srs", "download_detour": "Download"},
      {"tag": "geosite-github", "type": "remote", "format": "binary", "url": "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/sing/geo/geosite/github.srs", "download_detour": "Download"},
      {"tag": "geoip-telegram", "type": "remote", "format": "binary", "url": "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/sing/geo/geoip/telegram.srs", "download_detour": "Download"},
      {"tag": "geosite-telegram", "type": "remote", "format": "binary", "url": "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/sing/geo/geosite/telegram.srs", "download_detour": "Download"},
      {"tag": "geoip-twitter", "type": "remote", "format": "binary", "url": "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/sing/geo/geoip/twitter.srs", "download_detour": "Download"},
      {"tag": "geosite-twitter", "type": "remote", "format": "binary", "url": "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/sing/geo/geosite/twitter.srs", "download_detour": "Download"},
      {"tag": "geoip-facebook", "type": "remote", "format": "binary", "url": "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/sing/geo/geoip/facebook.srs", "download_detour": "Download"},
      {"tag": "geosite-facebook", "type": "remote", "format": "binary", "url": "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/sing/geo/geosite/facebook.srs", "download_detour": "Download"},
      {"tag": "geosite-bilibili", "type": "remote", "format": "binary", "url": "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/sing/geo/geosite/bilibili.srs", "download_detour": "Download"},
      {"tag": "geosite-tiktok", "type": "remote", "format": "binary", "url": "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/sing/geo/geosite/tiktok.srs", "download_detour": "Download"},
      {"tag": "geoip-netflix", "type": "remote", "format": "binary", "url": "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/sing/geo/geoip/netflix.srs", "download_detour": "Download"},
      {"tag": "geosite-netflix", "type": "remote", "format": "binary", "url": "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/sing/geo/geosite/netflix.srs", "download_detour": "Download"},
      {"tag": "geosite-geolocation-!cn", "type": "remote", "format": "binary", "url": "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/sing/geo/geosite/geolocation-!cn.srs", "download_detour": "Download"},
      {"tag": "geoip-cn", "type": "remote", "format": "binary", "url": "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/sing/geo/geoip/cn.srs", "download_detour": "Download"},
      {"tag": "geosite-cn", "type": "remote", "format": "binary", "url": "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/sing/geo/geosite/cn.srs", "download_detour": "Download"},
      {"tag": "geosite-unionpay", "type": "remote", "format": "binary", "url": "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/sing/geo/geosite/unionpay.srs", "download_detour": "Download"},
      {"tag": "geosite-jd", "type": "remote", "format": "binary", "url": "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/sing/geo/geosite/jd.srs", "download_detour": "Download"},
      {"tag": "geosite-pikpak", "type": "remote", "format": "binary", "url": "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/sing/geo/geosite/pikpak.srs", "download_detour": "Download"},
      {"tag": "geosite-alibaba", "type": "remote", "format": "binary", "url": "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/sing/geo/geosite/alibaba.srs", "download_detour": "Download"},
      {"tag": "geosite-meituan", "type": "remote", "format": "binary", "url": "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/sing/geo/geosite/meituan.srs", "download_detour": "Download"},
      {"tag": "geosite-apkpure", "type": "remote", "format": "binary", "url": "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/sing/geo/geosite/apkpure.srs", "download_detour": "Download"},
      {"tag": "geosite-tmdb", "type": "remote", "format": "binary", "url": "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/sing/geo/geosite/tmdb.srs", "download_detour": "Download"},
      {"tag": "geosite-docker", "type": "remote", "format": "binary", "url": "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/sing/geo/geosite/docker.srs", "download_detour": "Download"},
      {"tag": "geosite-reddit", "type": "remote", "format": "binary", "url": "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/sing/geo/geosite/reddit.srs", "download_detour": "Download"},
      {"tag": "geosite-speedtest", "type": "remote", "format": "binary", "url": "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/sing/geo/geosite/speedtest.srs", "download_detour": "Download"},
      {"tag": "geosite-wikimedia", "type": "remote", "format": "binary", "url": "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/sing/geo/geosite/wikimedia.srs", "download_detour": "Download"},
      {"tag": "geosite-javdb", "type": "remote", "format": "binary", "url": "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/sing/geo/geosite/javdb.srs", "download_detour": "Download"},
      {"tag": "geosite-adguard", "type": "remote", "format": "binary", "url": "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/sing/geo/geosite/adguard.srs", "download_detour": "Download"},
      {"tag": "geosite-steam", "type": "remote", "format": "binary", "url": "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/sing/geo/geosite/steam.srs", "download_detour": "Download"}
    ],
    "final": "Final",
    "auto_detect_interface": true
  },
  "experimental": {"cache_file": {"enabled": true}, "clash_api": {"external_controller": "0.0.0.0:9090", "external_ui": "ui", "secret": "101300", "external_ui_download_url": "https://github.com/Zephyruso/zashboard/releases/latest/download/dist.zip", "external_ui_download_detour": "Download", "default_mode": "rule"}}
}
